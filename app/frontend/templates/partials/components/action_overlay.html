<div class="card-overlay d-flex gap-2">
    {% if not item.is_dir() %}
    <a href="/download/{{ rel_path }}" class="action-btn" title="Download" @click.stop>
        <i class="bi bi-download"></i>
    </a>
    {% endif %}

    {% if 'm' in pmask %}
    <button class="action-btn rename-btn" title="Rename"
            @click.stop="const newName = prompt('Enter new name for {{ item.name }}:', '{{ item.name }}'); if(newName && newName !== '{{ item.name }}') { htmx.ajax('POST', '/api/v1/fs/rename/{{ rel_path|urlencode }}?new_name=' + encodeURIComponent(newName), { target: '#main-content', swap: 'innerHTML' }) }">
        <i class="bi bi-pencil-square"></i>
    </button>
    {% endif %}
    
    {% if 'd' in pmask %}
    <button class="delete-btn" title="Delete"
            @click.stop="if(confirm('Are you sure you want to delete {{ item.name }}?')) { $el.closest('.col').remove(); htmx.ajax('DELETE', '/api/v1/fs/{{ rel_path|urlencode }}', {swap:'none'}) }">
        <i class="bi bi-trash-fill"></i>
    </button>
    {% endif %}
</div>
