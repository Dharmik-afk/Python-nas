# Context: supervisor/

## Purpose & Responsibility
Acts as the process manager for the application, ensuring that both the FastAPI frontend and the Copyparty backend are started, monitored, and shut down correctly. It is designed to be runtime-aware and uses standard Python subprocess and signal handling.

## Key Symbols
- `supervisor/supervisor.py`:
    - `start_copyparty()`: Launches the internal Copyparty instance using settings from `app.core.config`.
    - `start_uvicorn()`: Launches the FastAPI application via Uvicorn.
    - `check_health()`: Periodically polls the FastAPI `/health` endpoint.
    - `shutdown()`: Gracefully terminates child processes on SIGINT/SIGTERM.
    - `main()`: The main monitoring loop that restarts processes if they fail.
- `supervisor/state.py`:
    - `SystemState`: Simple container for tracking service status and uptime.

## Dependencies
- `subprocess`: For process management.
- `urllib.request`: For internal health checks.
- `app.core.config`: Configuration for ports and hosts.
- `app.core.utils`: For generating the `open_server.sh` script on startup.